# Блок 8.4: Удаление уведомлений при обработке заявки

## Цель

Добавить удаление уведомлений о заявке после её обработки модератором (approve/reject).

## Контекст

После того как модератор обработал заявку (подтвердил или отклонил), заявка больше не в статусе "pending", поэтому уведомления о ней нужно удалить у всех модераторов.

## Задачи

| № | Действие | Файл |
|---|----------|------|
| 4.1 | В `callback_moderator_approve` после завершения сессии и commit добавить вызов `delete_moderator_notifications_for_application` | `handlers/moderator_handlers.py` |
| 4.2 | В `callback_moderator_reject` после завершения сессии и commit добавить вызов `delete_moderator_notifications_for_application` | `handlers/moderator_handlers.py` |

## Чек-лист

- [x] Уведомления удаляются после approve
- [x] Уведомления удаляются после reject
- [x] Обработка ошибок при удалении

## Выполнено

✅ **Задача 4.1**: В `callback_moderator_approve` после завершения сессии и commit добавлен вызов `delete_moderator_notifications_for_application` для удаления всех уведомлений о заявке у всех модераторов.

✅ **Задача 4.2**: В `callback_moderator_reject` после завершения сессии и commit добавлен вызов `delete_moderator_notifications_for_application` для удаления всех уведомлений о заявке у всех модераторов.

Обработка ошибок при удалении уведомлений реализована через try/except блоки с логированием ошибок.
